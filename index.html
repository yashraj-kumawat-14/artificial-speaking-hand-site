<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Smart Artificial Speaking Hand - User Manual</title>
  <style>
    /* Global Styles */
    body {
      font-family: Arial, sans-serif;
      background-color: #f8f8f8;
      margin: 0;
      padding: 0;
      color: #333;
      line-height: 1.6;
    }

    a {
      color: #2e8b57;
      text-decoration: none;
    }

    a:hover {
      text-decoration: underline;
    }

    img {
      max-width: 100%;
      height: auto;
      border-radius: 8px;
      margin: 20px 0;
    }

    .highlight {
      background-color: #eafbea;
      padding: 10px 15px;
      border-left: 4px solid #2e8b57;
      margin-top: 10px;
    }

    .app-link {
      display: inline-block;
      margin: 15px 0;
      padding: 10px 20px;
      background-color: #2e8b57;
      color: white;
      border-radius: 5px;
      text-decoration: none;
    }

    .app-link:hover {
      background-color: #246b45;
    }

    /* Header */
    header {
      background-color: #2e8b57;
      color: white;
      text-align: center;
      padding: 40px 20px 20px;
    }

    header h1 {
      margin: 0;
      font-size: 2em;
    }

    /* Navigation */
    nav {
      background-color: #444;
      text-align: center;
      padding: 10px 0;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
    }

    nav a {
      color: white;
      margin: 5px 15px;
      font-weight: bold;
    }

    /* Main content */
    main {
      max-width: 1000px;
      width: 90%;
      margin: 30px auto;
      padding: 20px;
      background-color: white;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      box-sizing: border-box;
    }

    h2 {
      color: #2e8b57;
      margin-top: 30px;
      font-size: 1.5em;
    }

    ul, ol {
      line-height: 1.7;
      padding-left: 20px;
    }

    pre {
      overflow-x: auto;
      padding: 10px;
      border-radius: 6px;
      background-color: #2b2b2b;
      color: #f0f0f0;
      font-size: 0.9em;
    }

    /* Footer */
    footer {
      background-color: #2e8b57;
      color: white;
      text-align: center;
      padding: 20px;
      margin-top: 40px;
    }

    /* Responsive Video */
    .video-container {
      position: relative;
      width: 100%;
      padding-bottom: 56.25%; /* 16:9 */
      height: 0;
      overflow: hidden;
      margin: 20px 0;
    }

    .video-container iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 0;
    }

    /* Media Queries for smaller screens */
    @media (max-width: 768px) {
      header h1 {
        font-size: 1.5em;
      }

      nav a {
        margin: 5px 10px;
        font-size: 0.9em;
      }

      h2 {
        font-size: 1.3em;
      }

      .app-link {
        padding: 8px 16px;
        font-size: 0.9em;
      }
    }

    @media (max-width: 480px) {
      main {
        padding: 15px;
      }

      nav {
        flex-direction: column;
        padding: 5px 0;
      }

      nav a {
        margin: 5px 0;
      }

      header {
        padding: 30px 10px 15px;
      }

      h2 {
        font-size: 1.1em;
      }
    }
  </style>
</head>
<body>

  <header>
    <h1>Smart Artificial Speaking Hand</h1>
    <p><strong>Gesture Recognition Glove for Assistive Communication</strong></p>
  </header>

  <nav>
    <a href="#overview">Overview</a>
    <a href="#features">Features</a>
    <a href="#components">Components</a>
    <a href="#setup">Setup Guide</a>
    <a href="#support">Support</a>
  </nav>

  <main>

    <section id="overview">
      <h2>Overview</h2>
      <p>
        The Smart Artificial Speaking Hand is a prototype wearable device that enables people with 
        speech or hearing disabilities to communicate more easily. The system uses <strong>flex sensors</strong> 
        mounted on a glove to detect finger gestures, which are then translated into spoken phrases 
        using pre-recorded <code>.wav</code> audio files stored on a microSD card.
      </p>
      <p>
        This low-cost, portable solution is powered by an <strong>Arduino Uno</strong> and an 
        <strong>LM386 amplifier with a speaker</strong>, making it an excellent assistive technology 
        tool for healthcare, emergency communication, and education.
      </p>
    </section>

    <section id="demo-video">
      <h2>Project Demonstration Video</h2>
      <div class="video-container">
        <iframe src="https://drive.google.com/file/d/your_demo_video_id/preview" allow="autoplay" allowfullscreen></iframe>
      </div>
    </section>

    <section id="features">
      <h2>Key Features</h2>
      <ul>
        <li>4 flex sensors detect finger bending gestures.</li>
        <li>Each gesture plays a corresponding voice phrase (e.g., "Please give me water").</li>
        <li>MicroSD card stores audio files in <strong>FAT/FAT32</strong> format.</li>
        <li>Audio playback handled by <strong>TMRpcm</strong> library on Arduino.</li>
        <li>Amplified speaker output using an <strong>LM386 circuit</strong>.</li>
        <li>Compact, wearable design for real-world usability.</li>
      </ul>
    </section>

    <section id="components">
      <h2>Hardware Components</h2>
      <ul>
        <li>Arduino Uno / Nano</li>
        <li>4 Ã— Flex sensors (mounted on glove)</li>
        <li>MicroSD card module (CS=4, MOSI=11, MISO=12, SCK=13)</li>
        <li>MicroSD card (formatted as FAT/FAT32)</li>
        <li>LM386 amplifier + 8Î© speaker</li>
        <li>Resistors & capacitors for noise filtering</li>
        <li>Glove for sensor mounting</li>
      </ul>
    </section>

    <section id="code">
      <h2>Arduino Code</h2>
      <p>The Arduino sketch reads flex sensor values, recognizes gestures, and plays the corresponding audio files. Download the code from the repository:</p>
      <a class="app-link" href="./artificial_speaking_hand.ino">ðŸ“¥ Download Full Code</a>
      <pre><code>
#include <SD.h>
#include <TMRpcm.h>
#include <SPI.h>

TMRpcm audio;

// Pin definitions
#define SD_CS 4       // Chip select for SD card
#define SPEAKER_PIN 9 // Speaker output (PWM)

// Flex sensor pins
#define FLEX1 A0
#define FLEX2 A1
#define FLEX3 A2
#define FLEX4 A3

// Threshold values (adjust after calibration)
int th1 = 130;
int th2 = 130;
int th3 = 130;
int th4 = 130;

// State tracking to avoid repeating same sound
int lastGesture = 0;

void setup() {
  Serial.begin(9600);

  // Setup SD card
  if (!SD.begin(SD_CS)) {
    Serial.println("SD initialization failed!");
    while (1);
  }
  Serial.println("SD OK");

  // Setup audio
  audio.speakerPin = SPEAKER_PIN;
  audio.setVolume(5);  // 0â€“7 (lower = quieter, cleaner)

  // Flex sensors as inputs
  pinMode(FLEX1, INPUT);
  pinMode(FLEX2, INPUT);
  pinMode(FLEX3, INPUT);
  pinMode(FLEX4, INPUT);

  Serial.println("Smart Speaking Hand Ready");
}

void loop() {
  // Read flex sensors
  int f1 = analogRead(FLEX1);
  int f2 = analogRead(FLEX2);
  int f3 = analogRead(FLEX3);
  int f4 = analogRead(FLEX4);

  // Debugging
  Serial.print("F1:"); Serial.print(f1);
  Serial.print(" F2:"); Serial.print(f2);
  Serial.print(" F3:"); Serial.print(f3);
  Serial.print(" F4:"); Serial.println(f4);

  int gesture = detectGesture(f1, f2, f3, f4);

  if (gesture != 0 && gesture != lastGesture) {
    playGesture(gesture);
    lastGesture = gesture;
  }

  delay(200); // small debounce delay
}

// Detect gesture based on flex thresholds
int detectGesture(int f1, int f2, int f3, int f4) {
  if (f1 > th1 && f2 < th2 && f3 < th3 && f4 < th4) {
    return 1; // Gesture 1
  }
  else if (f1 < th1 && f2 > th2 && f3 < th3 && f4 < th4) {
    return 2; // Gesture 2
  }
  else if (f1 < th1 && f2 < th2 && f3 > th3 && f4 < th4) {
    return 3; // Gesture 3
  }
  else if (f1 < th1 && f2 < th2 && f3 < th3 && f4 > th4) {
    return 4; // Gesture 4
  }
  else {
    return 0; // No valid gesture
  }
}

// Play the corresponding audio file
void playGesture(int gesture) {
  switch (gesture) {
    case 1:
      audio.play("1.wav"); // Please give me water
      break;
    case 2:
      audio.play("2.wav"); // I need help
      break;
    case 3:
      audio.play("3.wav"); // Call my family
      break;
    case 4:
      audio.play("4.wav"); // Thank you
      break;
  }
}

      </code></pre>
    </section>

    <section id="setup">
      <h2>Setup Instructions</h2>
      <ol>
        <li>Mount 4 flex sensors on a glove and connect to Arduino pins A0â€“A3.</li>
        <li>Connect the MicroSD card module (CS=4, MOSI=11, MISO=12, SCK=13).</li>
        <li>Build the LM386 amplifier circuit and connect it to Arduino pin 9.</li>
        <li>Format the SD card as <strong>FAT or FAT32</strong>.</li>
        <li>Generate audio files using Piper TTS and convert with SoX:</li>
      </ol>
      <pre><code>
echo "Please give me water" | ./piper --model ./models/en_US-lessac-medium.onnx --output_file raw.wav
sox raw.wav -r 16000 -c 1 -b 8 1.wav vol 0.8
      </code></pre>
      <ol start="6">
        <li>Copy audio files (1.wav, 2.wav, etc.) to the SD card root directory.</li>
        <li>Upload the Arduino sketch.</li>
        <li>Wear the glove and bend fingers to trigger speech playback.</li>
      </ol>
      <div class="highlight">
        Note: You may need to adjust threshold values in the Arduino code to correctly detect gestures for your specific flex sensors.
      </div>
    </section>

    <section id="support">
      <h2>Support & Contact</h2>
      <p>If you need help with setup or have questions, feel free to reach out:</p>
      <ul>
        <li>Email: <a href="mailto:yourname@example.com">yourname@example.com</a></li>
      </ul>
    </section>

  </main>

  <footer>
    <p>&copy; 2025 Smart Artificial Speaking Hand Project. All rights reserved.</p>
  </footer>

</body>
</html>
